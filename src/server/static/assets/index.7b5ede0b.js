const Z=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}};Z();function T(){}function X(e){return e()}function z(){return Object.create(null)}function j(e){e.forEach(X)}function ee(e){return typeof e=="function"}function te(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ne(e){return Object.keys(e).length===0}function H(e){return e==null?"":e}function _(e,t){e.appendChild(t)}function w(e,t,n){e.insertBefore(t,n||null)}function k(e){e.parentNode.removeChild(e)}function le(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function O(e){return document.createTextNode(e)}function L(){return O(" ")}function N(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function $(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function oe(e){return Array.from(e.childNodes)}function q(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function J(e,t){e.value=t==null?"":t}function K(e,t){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t){o.selected=!0;return}}e.selectedIndex=-1}function re(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let B;function A(e){B=e}const S=[],D=[],I=[],G=[],ie=Promise.resolve();let R=!1;function ue(){R||(R=!0,ie.then(Y))}function x(e){I.push(e)}const F=new Set;let M=0;function Y(){const e=B;do{for(;M<S.length;){const t=S[M];M++,A(t),se(t.$$)}for(A(null),S.length=0,M=0;D.length;)D.pop()();for(let t=0;t<I.length;t+=1){const n=I[t];F.has(n)||(F.add(n),n())}I.length=0}while(S.length);for(;G.length;)G.pop()();R=!1,F.clear(),A(e)}function se(e){if(e.fragment!==null){e.update(),j(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(x)}}const ce=new Set;function fe(e,t){e&&e.i&&(ce.delete(e),e.i(t))}function ae(e,t,n,o){const{fragment:l,on_mount:r,on_destroy:s,after_update:u}=e.$$;l&&l.m(t,n),o||x(()=>{const c=r.map(X).filter(ee);s?s.push(...c):j(c),e.$$.on_mount=[]}),u.forEach(x)}function de(e,t){const n=e.$$;n.fragment!==null&&(j(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function _e(e,t){e.$$.dirty[0]===-1&&(S.push(e),ue(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function pe(e,t,n,o,l,r,s,u=[-1]){const c=B;A(e);const f=e.$$={fragment:null,ctx:null,props:r,update:T,not_equal:l,bound:z(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:z(),dirty:u,skip_bound:!1,root:t.target||c.$$.root};s&&s(f.root);let p=!1;if(f.ctx=n?n(e,t.props||{},(d,a,...v)=>{const y=v.length?v[0]:a;return f.ctx&&l(f.ctx[d],f.ctx[d]=y)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](y),p&&_e(e,d)),a}):[],f.update(),p=!0,j(f.before_update),f.fragment=o?o(f.ctx):!1,t.target){if(t.hydrate){const d=oe(t.target);f.fragment&&f.fragment.l(d),d.forEach(k)}else f.fragment&&f.fragment.c();t.intro&&fe(e.$$.fragment),ae(e,t.target,t.anchor,t.customElement),Y()}A(c)}class he{$destroy(){de(this,1),this.$destroy=T}$on(t,n){const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const l=o.indexOf(n);l!==-1&&o.splice(l,1)}}$set(t){this.$$set&&!ne(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Q(e,t,n){const o=e.slice();return o[8]=t[n],o[9]=t,o[10]=n,o}function me(e){let t,n,o,l,r,s,u=e[1].name+"",c,f,p,d,a,v,y,C,P,E=e[2],m=[];for(let i=0;i<E.length;i+=1)m[i]=V(Q(e,E,i));return{c(){t=b("div"),n=b("input"),o=L(),l=b("button"),l.textContent="Check",r=L(),s=b("h2"),c=O(u),f=L(),p=b("button"),p.textContent="Save",d=L(),a=b("table"),v=b("tr"),v.innerHTML=`<th>Raw Element</th> 
        <th>Edible</th>`,y=L();for(let i=0;i<m.length;i+=1)m[i].c();$(n,"type","text"),$(n,"name",""),$(n,"id","")},m(i,h){w(i,t,h),_(t,n),J(n,e[0]),_(t,o),_(t,l),w(i,r,h),w(i,s,h),_(s,c),w(i,f,h),w(i,p,h),w(i,d,h),w(i,a,h),_(a,v),_(a,y);for(let g=0;g<m.length;g+=1)m[g].m(a,null);C||(P=[N(n,"input",e[6]),N(l,"click",e[4]),N(p,"click",e[5])],C=!0)},p(i,h){if(h&1&&n.value!==i[0]&&J(n,i[0]),h&2&&u!==(u=i[1].name+"")&&q(c,u),h&4){E=i[2];let g;for(g=0;g<E.length;g+=1){const U=Q(i,E,g);m[g]?m[g].p(U,h):(m[g]=V(U),m[g].c(),m[g].m(a,null))}for(;g<m.length;g+=1)m[g].d(1);m.length=E.length}},d(i){i&&k(t),i&&k(r),i&&k(s),i&&k(f),i&&k(p),i&&k(d),i&&k(a),le(m,i),C=!1,j(P)}}}function be(e){let t,n=e[3]==="Pending"?"Loading...":"",o;return{c(){t=b("div"),o=O(n)},m(l,r){w(l,t,r),_(t,o)},p(l,r){r&8&&n!==(n=l[3]==="Pending"?"Loading...":"")&&q(o,n)},d(l){l&&k(t)}}}function V(e){let t,n,o=e[8].name+"",l,r,s,u,c,f,p,d,a,v,y,C,P,E;function m(){e[7].call(u,e[9],e[10])}return{c(){t=b("tr"),n=b("td"),l=O(o),r=L(),s=b("td"),u=b("select"),c=b("option"),c.textContent="Edible",p=b("option"),p.textContent="Inedible",a=b("option"),v=O("Unknown"),C=L(),c.__value=f=!0,c.value=c.__value,$(c,"class","true svelte-244n4v"),p.__value=d=!1,p.value=p.__value,$(p,"class","false svelte-244n4v"),a.__value=void 0,a.value=a.__value,$(a,"class","unknown svelte-244n4v"),$(u,"name",""),$(u,"id",""),$(u,"class",y=H(e[8].edible+"")+" svelte-244n4v"),e[8].edible===void 0&&x(m)},m(i,h){w(i,t,h),_(t,n),_(n,l),_(t,r),_(t,s),_(s,u),_(u,c),_(u,p),_(u,a),_(a,v),K(u,e[8].edible),_(t,C),P||(E=N(u,"change",m),P=!0)},p(i,h){e=i,h&4&&o!==(o=e[8].name+"")&&q(l,o),h&4&&y!==(y=H(e[8].edible+"")+" svelte-244n4v")&&$(u,"class",y),h&4&&K(u,e[8].edible)},d(i){i&&k(t),P=!1,E()}}}function ge(e){let t,n,o;function l(u,c){return u[3]!=="Fetched"?be:me}let r=l(e),s=r(e);return{c(){t=b("main"),n=b("h1"),n.textContent="Edible",o=L(),s.c()},m(u,c){w(u,t,c),_(t,n),_(t,o),s.m(t,null)},p(u,[c]){r===(r=l(u))&&s?s.p(u,c):(s.d(1),s=r(u),s&&(s.c(),s.m(t,null)))},i:T,o:T,d(u){u&&k(t),s.d()}}}const W="http://54.67.97.150";function ve(e,t,n){let o="8801043036078",l={barcode:"",name:"",rawMaterials:[]},r=[],s="Initialized";const u=async()=>{n(3,s="Pending");try{const a=await(await fetch(`${W}/raw-materials?barcode=${o}`)).json();console.log(a),n(1,l=a),n(2,r=[]),l.rawMaterials.forEach(v=>n(2,r=[...r,{name:v.name,edible:v.edible}]))}catch{alert("\uBC14\uCF54\uB4DC \uBC88\uD638\uB97C \uD655\uC778\uD574\uC8FC\uC2ED\uC2DC\uC624")}n(3,s="Fetched")},c=async()=>{const d=r.filter((v,y)=>v.edible!==l.rawMaterials[y].edible);(await fetch(`${W}/update`,{method:"Post",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(d)})).ok?(alert("Success to save"),u()):alert("Failed to save")};function f(){o=this.value,n(0,o)}function p(d,a){d[a].edible=re(this),n(2,r)}return[o,l,r,s,u,c,f,p]}class ye extends he{constructor(t){super(),pe(this,t,ve,ge,te,{})}}new ye({target:document.getElementById("app")});
